# 仮想打刻アプリ

社員の出勤・退勤を管理するWebアプリケーションです。打刻機能、管理者用ダッシュボード、設定機能を備えています。

## 機能

### 打刻機能（`index.html`）
- **出勤・退勤の記録**: 社員を選択して出勤・退勤を記録
- **部署別表示**: 部署ごとに社員を分類して表示
- **打刻履歴の表示**: 当日の打刻履歴をリアルタイムで表示
- **重複打刻の確認**: 同じ日の同じ操作を連続で行う場合、確認モーダルを表示

### 管理者用ダッシュボード（`admin.html`）
- **パスワード認証**: 管理者ページへのアクセスにはパスワードが必要
- **月間サマリー**: 総労働時間、総残業時間、平均労働時間を表示
- **社員別集計**: 部署ごとに分かれたアコーディオン形式で社員の詳細を表示
  - 部署ボタンをクリックすると、その部署の社員が表示
  - 社員名をクリックすると、その社員の詳細情報が表示
- **詳細データ**: 日付・社員別にフィルタリング可能な詳細テーブル
  - 出勤・退勤時刻の編集機能
- **月次レポート**: TSV形式とCSV形式でレポートを生成・コピー・ダウンロード
- **目次機能**: 各セクションへのスムーズスクロール

### 設定画面（`admin-settings.html`）
- **パスワード変更**: 管理者パスワードの変更
- **社員管理**: 社員の追加・削除
  - 社員を削除しても打刻データは残ります

## ファイル構成

```
仮想打刻アプリ/
├── index.html          # 打刻画面
├── main.js             # 打刻画面のJavaScript
├── style.css           # 打刻画面のスタイル
├── admin.html          # 管理者用ダッシュボード
├── admin.js            # 管理者画面のJavaScript
├── admin.css           # 管理者画面のスタイル
├── admin-settings.html # 設定画面
└── README.md           # このファイル
```

## 使い方

### 打刻の記録
1. `index.html`を開く
2. 「打刻」ボタンをクリック
3. 部署を選択（必要に応じて）
4. 社員名を選択
5. 「出勤」または「退勤」を選択

### 管理者画面の利用
1. 打刻画面の右上「管理者ページ」をクリック
2. パスワードを入力（初期パスワード: `0000`）
3. 月を選択してデータを確認
4. 目次から各セクションに移動可能

### 設定画面の利用
1. 管理者画面のハンバーガーメニューから「設定ページ」を選択
2. パスワード変更や社員管理が可能

## 技術仕様

- **フロントエンド**: HTML5, CSS3, JavaScript (Vanilla JS)
- **データ保存**: LocalStorage
- **レスポンシブ対応**: 1024px / 768px / 480px のブレークポイント
- **ブラウザ対応**: モダンブラウザ（Chrome, Firefox, Safari, Edge）

## データ構造

### LocalStorage キー
- `timers`: 打刻データ（JSON形式）
- `adminPassword`: 管理者パスワード
- `employeeList`: 社員リスト（JSON形式）
- `demoTimersSeeded`: デモデータ生成フラグ

### 打刻データ形式
```javascript
{
  name: "社員名",
  text: "出勤" | "退勤",
  time: "09 : 00",
  date: "2024-01-01"
}
```

## 初期設定

- **デフォルトパスワード**: `0000`
- **デフォルト社員数**: 24名（各部署に分散）
- **デモデータ**: 初回起動時に自動生成（直近10営業日分）

## 注意事項

- データはブラウザのLocalStorageに保存されます
- ブラウザのデータを削除すると、すべてのデータが失われます
- 設定画面ではパスワード認証が不要です（直接アクセス可能）

## 工夫した点

### UI/UXの工夫
- **部署ごとの分類表示**: 社員一覧を部署ごとに分けて表示し、見つけやすくしました
- **シンプルで直感的なデザイン**: 余計な装飾を省き、必要な情報に集中できるUI
- **アコーディオン形式**: 管理者画面の社員別集計を部署→社員→詳細の3段階アコーディオンで整理
- **目次機能**: 長いページでも各セクションに素早く移動可能
- **レスポンシブ対応**: タブレット・スマホでも使いやすい統一されたデザイン

### データ管理の工夫
- **Excel対応のレポート機能**:
  - TSV形式でそのままExcelに貼り付け可能
  - CSV形式でダウンロード可能（UTF-8 BOM付きで文字化け防止）
  - Windows Excelの改行コード（`\r\n`）に対応
  - 社員名→日付の順で並べ替え、Excelで見やすい形式
- **データの永続化**: LocalStorageでデータを保存し、ブラウザを閉じてもデータが残る
- **リアルタイム更新**: 設定画面で社員を追加・削除すると、打刻画面にも即座に反映

### 操作性の工夫
- **重複打刻の確認**: 同じ日の同じ操作を連続で行う場合、確認モーダルを表示
- **出勤・退勤時刻の編集**: 管理者画面で過去の打刻時刻を後から修正可能
- **フォールバック機能**: Clipboard APIが使えない環境でも、従来の方法でコピー可能
- **デモデータの自動生成**: 初回起動時にサンプルデータを自動生成（動作確認用）

### セキュリティ・アクセス制御
- **パスワード認証**: 管理者画面へのアクセスを保護（設定画面は直接アクセス可能）
- **設定画面の簡素化**: 設定画面ではパスワード認証をスキップし、素早くアクセス可能

## ライセンス

このプロジェクトは個人利用・学習目的で作成されています。
